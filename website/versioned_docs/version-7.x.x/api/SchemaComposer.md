---
id: version-7.x.x-SchemaComposer
title: SchemaComposer
custom_edit_url: https://github.com/graphql-compose/graphql-compose/blob/master/src/SchemaComposer.d.ts
original_id: SchemaComposer
---

<!-- 
ðŸ›‘ðŸ›‘ðŸ›‘
DO NOT EDIT THIS FILE!
IT WAS AUTOGENERATED FROM d.ts FILE
ðŸ›‘ðŸ›‘ðŸ›‘
If you want to make changes in this file, please do it via
https://github.com/graphql-compose/graphql-compose/blob/master/src/SchemaComposer.d.ts
-->

`SchemaComposer` is a class which helps to create `GraphQLSchema`.

## Properties

### typeMapper

```js
typeMapper: TypeMapper<TContext>;
```

### Query

```js
readonly Query: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Query` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Query.addFields({ field1: 'String' });
```

### Mutation

```js
readonly Mutation: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Mutation` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Mutation.addFields({ field1: 'String' });
```

### Subscription

```js
readonly Subscription: ObjectTypeComposer<any, TContext>;
```

Returns `ObjectTypeComposer` of `Subscription` root type.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.Subscription.addFields({ field1: 'String' });
```

## Methods

### buildSchema()

```js
buildSchema(
  extraConfig: ExtraSchemaConfig
): GraphQLSchema
```

Create `GraphQLSchema` instance from defined types.
This instance can be provided to `express-graphql`, `apollo-server`, `graphql-yoga` etc.

### addSchemaMustHaveType()

```js
addSchemaMustHaveType(
  type: AnyType<TContext>
): this
```

When using Interfaces you may have such Types which are hidden under Interface.resolveType method. In such cases you should add these types explicitly. Cause `buildSchema()` will take only real used types and types which added via `addSchemaMustHaveType()` method.

### removeEmptyTypes()

```js
removeEmptyTypes(
  tc: ObjectTypeComposer<any, TContext>,
  passedTypes: Set<string>
): void
```

Deeply traverse fields in Query, Mutation, Subscription & sub-objects
where will be removed all fields with empty object types (without sub-fields).

### merge()

```js
merge(
  schema: GraphQLSchema | SchemaComposer<any>
): this
```

Load all types from GraphQLSchema and merge with current SchemaComposer's types.

```js
import { schemaComposer } from 'graphql-compose';
schemaComposer.merge(someSchema1);
schemaComposer.merge(someSchema2);
schemaComposer.merge(someSchema3);
const schemaComposer.getOTC('User').removeField('password');
const newSchema = schemaComposer.buildSchema();
```

## Like graphql-tools methods

### addTypeDefs()

```js
addTypeDefs(
  typeDefs: string
): TypeStorage<string, NamedTypeComposer<any>>
```

Add types to Schema via SDL string. Returns a Map of parsed types.

```js
const schemaComposer = new SchemaComposer();
schemaComposer.addTypeDefs(`
      type Post {
        id: Int!
        title: String
        votes: Int
      }
      enum Sort {
        ASC
        DESC
      }
    `);
```

After that your added types will be avaliable for referencing via string, eg.

```js
ObjectTypeComposer.create({
  name: 'Author',
  fields: {
    posts: {
      type: '[Post!]',
      args: {
        sort: 'Sort'
      },
      resolve: () => {}
    }
  }
});
```

### addResolveMethods()

```js
addResolveMethods(
  typesFieldsResolve: GraphQLToolsResolveMethods<TContext>
): void
```

Define `resolve` methods for Types in `graphql-tools` manner.

```js
declare function addResolveMethods(typesFieldsResolve: {
  [typeName: string]: {
    [fieldName: string]: (
      source: any,
      args: Object,
      context: TContext,
      info: GraphQLResolveInfo
    ) => any;
  };
}): void;
```

More details can be found in [issue #142](https://github.com/graphql-compose/graphql-compose/issues/142).

## Type methods

### createObjectTC()

```js
createObjectTC<TSource = any>(
  typeDef: ObjectTypeComposerDefinition<TSource, TContext>
): ObjectTypeComposer<TSource, TContext>
```

### createInputTC()

```js
createInputTC(
  typeDef: InputTypeComposerDefinition
): InputTypeComposer<TContext>
```

### createEnumTC()

```js
createEnumTC(
  typeDef: EnumTypeComposerDefinition
): EnumTypeComposer<TContext>
```

### createInterfaceTC()

```js
createInterfaceTC<TSource = any>(
  typeDef: InterfaceTypeComposerDefinition<TSource, TContext>
): InterfaceTypeComposer<TSource, TContext>
```

### createUnionTC()

```js
createUnionTC<TSource = any>(
  typeDef: UnionTypeComposerDefinition<TSource, TContext>
): UnionTypeComposer<TSource, TContext>
```

### createScalarTC()

```js
createScalarTC(
  typeDef: ScalarTypeComposerDefinition
): ScalarTypeComposer<TContext>
```

### createResolver()

```js
createResolver<TSource = any, TArgs = ArgsMap>(
  opts: ResolverDefinition<TSource, TContext, TArgs>
): Resolver<TSource, TContext, TArgs>
```

### createTC()

```js
createTC(
  typeOrSDL: any
): NamedTypeComposer<TContext>
```

Creates or return existed TypeComposer from SDL or object.
If you call this method again with same params should be returned the same TypeComposer instance.

### createTempTC()

```js
createTempTC(
  typeOrSDL: any
): NamedTypeComposer<TContext>
```

Creates TypeComposer from SDL or object without adding it to the type storage.

### getOrCreateOTC()

```js
getOrCreateOTC<TSource = any>(
  typeName: string,
  onCreate: (tc: ObjectTypeComposer<TSource, TContext>) => any
): ObjectTypeComposer<TSource, TContext>
```

### getOrCreateITC()

```js
getOrCreateITC(
  typeName: string,
  onCreate: (itc: InputTypeComposer<TContext>) => any
): InputTypeComposer<TContext>
```

### getOrCreateETC()

```js
getOrCreateETC(
  typeName: string,
  onCreate: (etc: EnumTypeComposer<TContext>) => any
): EnumTypeComposer<TContext>
```

### getOrCreateIFTC()

```js
getOrCreateIFTC<TSource = any>(
  typeName: string,
  onCreate: (iftc: InterfaceTypeComposer<TSource, TContext>) => any
): InterfaceTypeComposer<TSource, TContext>
```

### getOrCreateUTC()

```js
getOrCreateUTC<TSource = any>(
  typeName: string,
  onCreate: (utc: UnionTypeComposer<TSource, TContext>) => any
): UnionTypeComposer<TSource, TContext>
```

### getOrCreateSTC()

```js
getOrCreateSTC(
  typeName: string,
  onCreate: (stc: ScalarTypeComposer<TContext>) => any
): ScalarTypeComposer<TContext>
```

### getOTC()

```js
getOTC<TSource = any>(
  typeName: any
): ObjectTypeComposer<TSource, TContext>
```

### getITC()

```js
getITC(
  typeName: any
): InputTypeComposer<TContext>
```

### getETC()

```js
getETC(
  typeName: any
): EnumTypeComposer<TContext>
```

### getIFTC()

```js
getIFTC<TSource = any>(
  typeName: any
): InterfaceTypeComposer<TSource, TContext>
```

### getUTC()

```js
getUTC<TSource = any>(
  typeName: any
): UnionTypeComposer<TSource, TContext>
```

### getSTC()

```js
getSTC(
  typeName: any
): ScalarTypeComposer<TContext>
```

### getAnyTC()

```js
getAnyTC(
  typeName: string | AnyType<any> | GraphQLType
): NamedTypeComposer<TContext>
```

## Storage methods

### clear()

```js
clear(): void
```

### add()

```js
add(
  typeOrSDL: any
): string
```

### delete()

```js
delete(
  key: any
): boolean
```

### entries()

```js
entries(): Iterator<[any, NamedTypeComposer<TContext>]>
```

### forEach()

```js
forEach(
  callbackfn: (value: NamedTypeComposer<TContext>, index: any, map: Map<any, NamedTypeComposer<TContext>>) => any,
  thisArg: any
): void
```

### get()

```js
get(
  key: any
): NamedTypeComposer<TContext>
```

### has()

```js
has(
  key: any
): boolean
```

### keys()

```js
keys(): Iterator<any>
```

### set()

```js
set(
  key: any,
  value: AnyType<TContext>
): this
```

### values()

```js
values(): Iterator<NamedTypeComposer<TContext>>
```

### hasInstance()

```js
hasInstance(
  key: any,
  ClassObj: any
): boolean
```

### getOrSet()

```js
getOrSet(
  key: any,
  typeOrThunk: NamedTypeComposer<TContext> | (() => NamedTypeComposer<TContext>)
): NamedTypeComposer<TContext>
```

## Directive methods

### addDirective()

```js
addDirective(
  directive: GraphQLDirective
): this
```

### removeDirective()

```js
removeDirective(
  directive: GraphQLDirective
): this
```

### getDirectives()

```js
getDirectives(): GraphQLDirective[]
```

### getDirective()

```js
getDirective(
  name: string
): GraphQLDirective
```

### hasDirective()

```js
hasDirective(
  directive: string | GraphQLDirective
): boolean
```

## Internal type definitions

### ExtraSchemaConfig

```js
type ExtraSchemaConfig = {
  types?: GraphQLNamedType[] | null;
  directives?: GraphQLDirective[] | null;
  astNode?: SchemaDefinitionNode | null;
};
```

### GraphQLToolsResolveMethods

```js
type GraphQLToolsResolveMethods<TContext> = {
  [typeName: string]: {
    [fieldName: string]: (
      source: any,
      args: object,
      context: TContext,
      info: GraphQLResolveInfo
    ) => any;
  };
};
```
